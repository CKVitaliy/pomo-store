<div class="container">
    <div class="row">
        <div class="col pr-0">
            <h2>Existing categories</h2>

            <table class="table table-bordered" *ngIf="createdCategoriesArray">
                <tbody *ngFor="let el of createdCategoriesArray">
                <tr>
                    <td scope="col">
                        <div class="container">
                            <div class="row">
                                <div class="col-5 form-group">
                                    <label>Name</label>
                                    <div class="form-control">{{el.name}}</div>
                                </div>
                                <div class="col-5 form-group">
                                    <label>Image</label>
                                    <div class="form-control">{{el.image}}</div>
                                </div>
                                <div class="col-1 form-group">
                                    <label class="invisible">Del</label>
                                    <button class="btn btn-dark" (click)="deleteCategory(el._id)">Del</button>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>

            <h2>Create a new category</h2>
            <form [formGroup]="RF" (change)="clear()">
                <div class="form-group">
                    <label>Name</label>
                    <input class="form-control" type="text" formControlName="name"
                           [class.is-invalid]="RF.get('name').invalid && RF.get('name').touched">
                    <small class="text-danger" *ngIf="RF.get('name').invalid && RF.get('name').touched">Name is
                        required
                    </small>
                </div>
                <div class="form-group">
                    <label>Image</label>
                    <input class="form-control" type="file" accept="image/*" formControlName="image"
                           (change)="onChangeImage($event)"
                           [class.is-invalid]="RF.get('image').invalid && RF.get('image').touched">
                    <small class="text-danger" *ngIf="RF.get('image').invalid && RF.get('image').touched">Image is
                        required
                    </small>
                </div>
                <div class="form-control alert alert-danger divAlert" *ngIf="errorMessage">
                    {{errorMessage}}
                </div>
                <div class="form-group">
                    <button class="btn btn-dark" [disabled]="!RF.valid" (click)="createCategory()">Create</button>
                </div>
            </form>
            <div class="form-control alert alert-success divAlert" *ngIf="successMessage">
                {{successMessage}}
            </div>

        </div>
    </div>
</div>
